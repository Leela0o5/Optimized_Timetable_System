name: Backend Sanity Check

on:
   push:
       branches: ["main"]
   pull_request:
        branches: ["main"]

jobs:
   check-code:
      runs-on: ubuntu-latest
      defaults:
         run:
            working-directory: ./backend

      steps:
      - name : Checkout Code
        uses : actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
           node-version: '20'
           cache: 'npm'
           cache-dependency-path: backend/package-lock.json

      - name: Install Dependencies
        run: npm install

      - name : Verify-Syntax
        run : node --check src/server.js
